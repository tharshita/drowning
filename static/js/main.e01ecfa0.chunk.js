(this.webpackJsonpdrowning=this.webpackJsonpdrowning||[]).push([[0],{156:function(e,t,n){},158:function(e,t,n){},189:function(e,t,n){"use strict";n.r(t);var a=n(9),o=n(0),r=n.n(o),s=n(48),c=n.n(s),i=(n(156),n(131)),u=n(28),d=n.n(u),l=n(73),h=n(132),j=n(133),p=n(46),b=n(139),f=n(137),g=n.p+"static/media/human.440047f1.png",m=(n(158),n(201)),O=n(202),x=n(204),w=n(203),v=n(108),C=n.n(v),k=n(134),y=n.n(k),A=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).fetchQuotes=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("https://type.fit/api/quotes").then((function(e){a.setState({inspirationQuotes:e.data})})).catch((function(e){return console.error(e)}));case 2:case"end":return e.stop()}}),e)}))),a.fetchAddress=Object(l.a)(d.a.mark((function e(){var t,n,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.latitude,o=t.longitude,e.next=3,C.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng="+n+","+o+"&key=AIzaSyA9umthbEuph3aHr6-fWsEiPKtWAVGssfA").then((function(e){console.log(e.data.results),a.setState({addresses:e.data.results})})).catch((function(e){return console.error(e)}));case 3:case"end":return e.stop()}}),e)}))),a.onChangeHandler=function(e){var t=e.target.value;a.setState(Object(i.a)({},e.target.name,t))},a.handleSearch=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={longitude:parseFloat(a.state.longitude).toFixed(2),latitude:parseFloat(a.state.latitude).toFixed(2)},a.checkDrowning(t.longitude,t.latitude),a.fetchAddress();case 3:case"end":return e.stop()}}),e)}))),a.checkDrowning=function(){var e=Object(l.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("https://api.onwater.io/api/v1/results/"+n+","+t+"?access_token=GY-kZ1a_fKoME8juAJcZ").then((function(e){console.log(e.data),a.setState({showModal:!0,isDrowning:e.data.water}),a.findQuote()})).catch((function(e){return console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.findQuote=Object(l.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.state.inspirationQuotes,n=t[Math.floor(Math.random()*t.length)],console.log(),a.setState({quote:n.text,author:n.author});case 4:case"end":return e.stop()}}),e)}))),a.handleModalClose=function(){a.setState({showModal:!1})},a.state={latitude:0,longitude:0,showModal:!1,isDrowning:!1,inspirationQuotes:[],quote:"",author:"",addresses:[]},a.onChangeHandler=a.onChangeHandler.bind(Object(p.a)(a)),a.handleSearch=a.handleSearch.bind(Object(p.a)(a)),a.handleModalClose=a.handleModalClose.bind(Object(p.a)(a)),a.findQuote=a.findQuote.bind(Object(p.a)(a)),a.fetchAddress=a.fetchAddress.bind(Object(p.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.fetchQuotes()}},{key:"render",value:function(){var e=this.state,t=e.showModal,n=e.quote,o=e.author,r=e.isDrowning,s=e.latitude,c=e.longitude,i=e.addresses;return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)("header",{className:"App-header",children:[Object(a.jsx)("img",{src:g,className:"App-logo",alt:"logo"}),Object(a.jsx)("p",{children:"Are you drowning?"})]}),Object(a.jsx)(m.a,{children:Object(a.jsxs)(O.a,{children:[Object(a.jsxs)(O.a.Group,{widths:"equal",children:[Object(a.jsx)(O.a.Field,{label:"latitude",name:"latitude",min:"-85",max:"85",step:"0.01",type:"number",control:"input",required:!0,onChange:this.onChangeHandler}),Object(a.jsx)(O.a.Field,{label:"longitude",name:"longitude",min:"-180",max:"180",step:"0.01",type:"number",control:"input",required:!0,onChange:this.onChangeHandler})]}),Object(a.jsx)(x.a,{variant:"primary",onClick:this.handleSearch,children:"Find me!"})]})}),Object(a.jsxs)(w.a,{open:t,onClose:this.handleModalClose,children:[Object(a.jsx)(w.a.Header,{closeButton:!0,children:"Where am I?"}),Object(a.jsxs)(w.a.Content,{children:[Object(a.jsx)("b",{children:r?"You're drowning but it's ok!":"You're safe on land! Congrats!"}),Object(a.jsxs)("p",{children:[" ",i[0]?"You're near "+i[0].formatted_address:"We have no clue where you are"]}),Object(a.jsx)("br",{}),Object(a.jsx)("img",{src:"https://maps.googleapis.com/maps/api/staticmap?markers=size:small%7C"+s+","+c+"&zoom=11&size=400x400&key=AIzaSyBoyAr-jdEmaxd9jSVHBwCkeohtXOZdN2g",alt:"google map"}),Object(a.jsx)("br",{}),function(){if(!r)return Object(a.jsx)(y.a,{duration:.001})}(),Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:r?"Here's a motivational quote to get you out of sad waters:":"Here's a quote to cheer your success on:"}),Object(a.jsx)("p",{children:" "}),Object(a.jsx)("br",{}),n," ~"+o]})]})]})}}]),n}(o.Component),S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,207)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),o(e),r(e),s(e)}))};n(188);c.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(A,{})}),document.getElementById("root")),S()}},[[189,1,2]]]);
//# sourceMappingURL=main.e01ecfa0.chunk.js.map